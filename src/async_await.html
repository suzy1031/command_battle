<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>
<script>
  function sleep(ms) {
    return new Promise(function(resolve) {
      setTimeout(resolve, ms)
    })
  }

  async function battle() {
    document.write('スリープはじめ<br>')

    await sleep(3000);

    document.write('スリープおわり<br>');

    return 10;
  }

  let p = battle();

  document.write('hello<br>');

  p.then(function(value) {
    document.write(value);
  })

  document.write('world<br>');
</script>
</body>
</html>